"use strict";
$(document).ready(function() {
    if (localStorage.getItem('layout-type') == 'undefined') {
        localStorage.setItem('layout-type','menu-light');
    }
    $(".layout-type > a").removeClass("active");
    $(".layout-type > a[data-value='"+ localStorage.getItem('layout-type') +"']").addClass("active");

    if (localStorage.getItem('header-color') == 'undefined') {
        localStorage.setItem('header-color','header-blue');
    }
    $(".header-color > a").removeClass("active");
    $(".header-color > a[data-value='"+ localStorage.getItem('header-color') +"']").addClass("active");
    
    $.fn.removeClassPrefix = function(a) {
        this.each(function(c, d) {
            var b = d.className.split(" ").map(function(e) {
                return e.indexOf(a) === 0 ? "" : e
            });
            d.className = b.join(" ")
        });
        return this
    };
    $.fn.LayoutType = function () {
        var a = $(this).attr("data-value");
        $(".layout-type > a").removeClass("active");
        $(".pcoded-navbar").removeClassPrefix("navbar-image-");
        $(this).addClass("active");
        localStorage.setItem('layout-type',a);
        $("head").append('<link rel="stylesheet" class="layout-css" href="">');
        if (a == "menu-dark") {
            $(".pcoded-navbar").removeClassPrefix("menu-");
            $(".pcoded-navbar").removeClass("navbar-dark")
        }
        if (a == "menu-light") {
            $(".pcoded-navbar").removeClassPrefix("menu-");
            $(".pcoded-navbar").removeClass("navbar-dark");
            $(".pcoded-navbar").addClass(a)
        }
        if (a == "reset") {
            localStorage.setItem('layout-type','menu-light');
            localStorage.setItem('header-color','header-blue');
            location.reload();
        }
        if (a == "dark") {
            $(".pcoded-navbar").removeClassPrefix("menu-");
            $(".pcoded-navbar").addClass("navbar-dark");
            $(".layout-css").attr("href", "/assets/css/layout-dark.css")
        } else {
            $(".layout-css").attr("href", "")
        }
        return this;
    };
    $.fn.headerColor = function () {
        var a = $(this).attr("data-value");
        $(".header-color > a").removeClass("active");
        $(".pcoded-header").removeClassPrefix("brand-");
        $(this).addClass("active");
        localStorage.setItem('header-color',a);
        if (a == "header-default") {
            $(".pcoded-header").removeClassPrefix("header-");
            $(".m-header > .b-brand > .logo").attr("src", "/assets/images/logo-dark.png")
        } else {
            $(".pcoded-header").removeClassPrefix("header-");
            $(".pcoded-header").addClass(a);
            $(".m-header > .b-brand > .logo").attr("src", "/assets/images/logo.png")
        }
    };

    $("#styleSelector > .style-toggler").on("click", function() {
        $("#styleSelector").toggleClass("open");
        $("#styleSelector").removeClass("prebuild-open")
    });
    $(".layout-type > a.active").LayoutType();
    $(".layout-type > a").on("click", function() {
        $(this).LayoutType();
    });
    $(".header-color > a.active").headerColor();
    $(".header-color > a").on("click", function() {
        $(this).headerColor();
    });
    $("#theme-rtl").change(function() {
        $("head").append('<link rel="stylesheet" class="rtl-css" href="">');
        if ($(this).is(":checked")) {
            $(".rtl-css").attr("href", "/assets/css/layout-rtl.css")
        } else {
            $(".rtl-css").attr("href", "")
        }
    });
    $("#menu-fixed").change(function() {
        if ($(this).is(":checked")) {
            $(".pcoded-navbar").addClass("menupos-fixed");
            setTimeout(function() {}, 400)
        } else {
            $(".pcoded-navbar").removeClass("menupos-fixed")
        }
    });
    $("#header-fixed").change(function() {
        if ($(this).is(":checked")) {
            $(".pcoded-header").addClass("headerpos-fixed")
        } else {
            $(".pcoded-header").removeClass("headerpos-fixed")
        }
    });
    $("#breadcumb-layouts").change(function() {
        if ($(this).is(":checked")) {
            $(".page-header").addClass("breadcumb-sticky")
        } else {
            $(".page-header").removeClass("breadcumb-sticky")
        }
    });
    $("#box-layouts").change(function() {
        if ($(this).is(":checked")) {
            $("body").addClass("container");
            $("body").addClass("box-layout")
        } else {
            $("body").removeClass("container");
            $("body").removeClass("box-layout")
        }
    });
    $(".brand-color > a").on("click", function() {
        var a = $(this).attr("data-value");
        $(".brand-color > a").removeClass("active");
        $(this).addClass("active");
        if (a == "brand-default") {
            $(".pcoded-header").removeClassPrefix("brand-");
            $(".m-header > .b-brand > .logo").attr("src", "/assets/images/logo-dark.png")
        } else {
            $(".pcoded-header").removeClassPrefix("brand-");
            $(".pcoded-header").addClass(a);
            $(".m-header > .b-brand > .logo").attr("src", "/assets/images/logo.png")
        }
    });
});